# 1st-EVM-Assignment

## 암호화폐 거래소에서 0.01 이더리움 내외(2022년 4월 8일 기준 4만원 내외)을 구매하고, 자신만의 메타마스크 지갑을 만든 뒤 이를 본인의 메타마스크 지갑으로 송금해보세요. 그리고 무언가 하나의 지갑을 만드는 과정에서, 어떤 궁금증이 생기셨나요? 의문을 던져보고, 설명해주세요.

- 암호화폐 거래가 처음이라 첫 출금이 KRW 입금 시점으로부터 72시간 동안 제한된다는 사실을 몰랐습니다. 출금 제한이 아직 풀리지 않아 메타마스크 지갑을 만드는 것과 이더리움을 구매하는 것까지는 완료했으나 지갑에 송금하지는 못했습니다.
- 블록체인 분야에 대한 지식이 많이 부족하여 첫 오프라인 수업 전까지 기초를 쌓아야 겠다는 생각이 들었고, K-MOOC의 블록체인 입문 강의를 수강하고 강의를 요약 정리한 내용을 대신 제출합니다.

------------------------------------------------------------------------------------
## 블록체인 기초 정리
### 현존하는 중앙집중적 시스템(플랫폼)의 문제점
  - 데이터 조작의 위험성
  - 거래 발생 시 높은 중간 수수료
    - Ex. 중고차 거래 시 딜러에게 지불하는 수수료
    - Ex. 한국에서 해외로 돈 송금 시 한국 송금 은행 외에도 중계 은행과 지급 은행 등에 많은 수수료를 지불해야 함
  - 정보의 왜곡
    - Ex. 중고차 판매를 위해 주행거리 조작 or 허위 정보 게시 -> 실구매자들이 정확한 정보 얻기 어려움

### 블록체인
  - 블록체인이란
    - 블록들이 모여 있는 체인 -> 모든 거래를 블록과 체인 형태로 저장함
    - 블록: 관리 대상 데이터를 저장하는 자료구조
      - 데이터의 종류: 거래에 관련된 사람들(구매자, 판매자)의 정보, 회사간의 계약 내용, 금융 거래 내역(돈을 보낸 자, 받은 자) 등 -> 누가 얼마나 많은 코인을 누구에게 보냈는가
      - 주어진 시간 동안 이루어진 트랜잭션 데이터를 포함하고 있는 상자
    - 블록을 체인 형태의 연결 기반 분산 데이터 저장 환경에 저장한 분산 컴퓨팅 기술 기반 원장 관리 기술
      - 분산 원장: 모든 거래 참여자가 거래 장부를 각각 소유하고 이를 분산하여 갖고 있는 것
      - 데이터(블록)의 임의 수정 및 삭제 불가능
    - 블록끼리 연결되어 있는 체인에 블록을 하나씩 추가로 연결하여 확장
      - 새 블록이 만들어지면 이전 블록에 연결하기 위해 링크가 만들어짐 -> 
  
  - 핵심 기술
    - 트랜잭션 서명을 위한 비대칭 암호화 기술
    - 트랜잭션과 블록 해싱을 위한 해시 함수
    - 트랜잭션을 블록으로 효율적으로 패키징하기 위한 Merkle Tree 기법
    - 이전 트랜잭션 조회를 위한 key-value 데이터베이스
    - 거래 및 블록 데이터 공유를 위한 P2P 통신 프로토콜
    - 합의 달성을 위한 업무 증명 기술

  - 특징
    - 중간 블록을 다른 블록으로 대체하기 어려움 -> 위조 및 수정 불가
      - 체인으로 연결된 중간 블록 하나만을 다른 블록으로 바꾸는 것은 불가능 -> 중간 블록 이후의 모든 블록을 바꿔야 함
      - 특정 개인이 DB를 관리하지 않고 모든 참여자가 동일한 DB의 복제본을 가지고 있어 위조 불가 -> 신뢰할 수 있는 제3자 필요 X
        - Ex. 학생 A가 학생 B에게 두 개의 코인 빌려주는 경우
          - 모든 학생에게 해당 거래 내용이 전송됨 -> 각 원장에 기록됨
          - A가 B에게 다섯 개의 코인을 빌려주었다고 자신과 B의 원장을 조작하려 시도
          - A가 코인 다섯 개를 회수하려면 다른 학생들 중 50% 이상이 A가 B에게 코인 다섯 개를 빌려줬다는 것에 동의해야 함
    - 중앙 기관 불필요 = 탈중앙화가 가능
      - P2P 방식: 제3자 X 거래 당사자끼리만 통신

  - 트랜잭션 과정
    - 사용자 A가 개인키를 사용하여 전송 트랜잭션 신청
    - A의 전송 트랜잭션 세부 사항을 다른 트랜잭션의 세부 사항과 함께 새로운 블록에 넣고 해시값을 계산 
    - 채굴자가 타깃을 성공적으로 해싱하고 이전 블록과의 연결을 위해 트랜잭션 A 기록을 포함하는 블록을 네트워크에 전파
    - 네트워크 참여자는 해당 블록의 유효성을 검사하고 합의
    - 해당 블록이 이전 블록과 연결되며 전송이 확인됨
    - 해당 트랜잭션의 수신자가 전송 확인을 확인 -> 트랜잭션 완료


### 암호화폐
  - 기존 화폐의 특징
    - 각 국가의 대표 발행 기관에서 발행됨 & 국가에 의해 통제됨 -> 나라 별로 다른 통화 & 해외 송금 시 높은 수수료 부과
  
  - 암호화폐의 특징
    - 신용을 담보해주는 신뢰 기관 필요 X
    - 국가에 한정되어 있지 않은 통화 -> 해외 송금 수수료 줄여 간편한 거래 가능
    - 통화 발행 생산 비용 & 화폐 보관 비용 감소


### 비트코인
  - 특징
    - 국가, 정부, 기관 등이 발행에 관여하지 않음
    - 총 발행량이 정해져 있음 = 2100만개
      - 일정 주기에 따라 발행량이 절반씩 감소하고 있음 -> ?
    - 가치의 변동
      - 5000 비트코인에 피자 한 판 -> 1 비트코인에 1000만원 이상의 가치
    - 익명성 보장: 거래 시 활용하는 비트코인 주소에 사용자 정보 포함되지 않으므로 주소의 사용자를 알 수 없음
      - 거래 시 송신자나 수신자에 대한 인증과정 X, 개인 정보 제공 불필요
      - 거래 시 사용되는 비트코인 주소도 자유롭게 생성 및 폐기 가능
    - 물리적 한계 X: 사용자 개인이 은행으로서 역할 수행 가능 -> 비트코인 네트워크에 연결만 한다면 시간과 장소 구애 받지 않고 비트코인 사용 가능
    - 모든 사용자가 온라인 상으로 전자 화폐를 직접 거래 가능
    - 중개 은행이 없으므로 수수료 X
    - 누구나 블록체인에 저장되어 있는 데이터 확인 가능 -> 전 세계 모든 거래 확인 가능
      - 이론적으로는 월렛의 주소가 공개되어 있다면 누가 얼마의 비트코인을 보유하고 있는 지 알 수 있음 -> 그러나 원치 않는 사람들은 익명성 유지 가능
    - 거래 내역 조작 및 계정 해킹에 대한 강력한 보안
      - 블록체인은 데이터 저장, 추가만 가능하므로
    - 누구나 화폐 발행 과정에 참여하여 이득 얻을 수 있음
    - 실시간 결제 처리: 비트코인 네트워크에 접속만 할 수 있으면 저렴하고 빠르게 송금 가능

  - 비트코인의 거래 과정
    - 각 사용자는 비트코인을 저장하기 위해 하나 이상의 주소 소지
    - A가 B에게 비트코인 송금하려면 A가 B에게 비트코인 주소 요청 -> 해당 비트코인 주소로 코인 전송 -> 코인을 전송했다는 기록이 블록체인 내에 기록되면 거래 완료
      - 비트코인 외 추가 정보 및 중개 기관 불필요

  - 비트코인의 채굴(Mining)
    - 의미
      - 블록체인에 추가할 새로운 블록을 생성
      - 비트코인이라는 암호화폐를 생성
      - 즉, 기존의 블록체인에 추가할 새 블록을 생성하며, 그 결과로 새로운 비트코인이 생성됨
        - 새로운 블록 및 비트코인 생성 과정 = 채굴 / 채굴하는 사람 = 채굴자
    - 채굴 과정
      - 일련의 수학 문제를 푸는 것과 유사
      - 특정 목표값(=퍼즐의 난이도)과 nonce(0부터 1씩 증가하는 값) 존재
      - nonce값은 해시 함수를 거쳐 임의의 값을 생성 -> 이 값이 목표 값보다 작은 값을 가질 때까지 계속 nonce를 해시 함수에 넣어 값을 생성
      - 목표값보다 작은 값 가지는 임의의 값을 발견 시 블록 생성 권한을 얻음
        - 많은 시간과 비용 소모
        - 보상 필요
    - 채굴에 대한 보상
      - 새로운 블록으로부터 새로운 코인을 생성해서 얻는 보상
        - 블록 생성 시 비트코인을 보상으로 받음
        - 그러나 블록 생성을 통해 만들어지는 비트코인의 발행량은 일정하지 않음
        - 총 발행량이 정해져있으므로 채굴이 계속됨에 따라 채굴 보상 감소
          - 21만개의 블록이 새로 생성될 때마다 새롭게 생성되는 비트코인의 양이 절반으로 줄어듦
          - 반감기: 약 4년 주기
      - 이체 또는 거래 수수료
        - A와 B가 총 10BTC 소유, A가 B에게 3BTC 송금
        - 실제 비트코인은 하나의 덩어리 개념, 즉, A와 B는 10BTC 덩어리 한 개씩을 소유하고 있음
        - 거래 결과: B는 10BTC 한 개와 3BTC 한 개 소지하게 됨
        - 남은 7BTC의 행방: 비트코인에는 잔액 개념이 없으므로 자동으로 A에게 남겨지지 않음 -> 남은 비트코인을 자기 자신에게 다시 보내야 함
          - A는 3BTC를 B에게, 7BTC을 본인에게 보내야함
          - 그렇지 않은 경우 남은 7BTC이 전부 이체 수수료로 사용됨
          - 이체 수수료: 송신자가 보낸 비트코인의 총량 – 수신자가 받은 비트코인의 총량
            - 송신자가 비트코인 전송 시 얼마를 상대에게 보내고, 얼마를 자신이 돌려받을지 명시함으로써 얼마의 이체 수수료를 지불할지 결정
            - 상대에게 보낼 비트코인의 양과 이체 수수료를 제외한 금액을 자신의 주소로 되돌려 보내는 것
        - 이체 수수료가 높을수록 채굴자가 받는 보상 높아짐 -> 채굴자들은 이체 수수료가 높은 거래를 선택하여 블록 생성 시도
          - 이체 수수료 많을수록 자신이 생성한 거래가 블록체인에 더 빠르게 저장됨

  - 비트코인의 한계
    - 실시간성이 낮음
      - 블록 채굴 시 문제를 풀기 위한 난이도는 10분 정도로 지정되어 있음 = 블록 생성 주기
      - 즉, 거래 완료까지 최소 10분 대기해야 함 -> 이체 수수료에 따라 더 길어질 수 있음
    - 확장성 문제
      - 비트코인 초당 거래량은 약 7개 -> 매우 느림
    - 에너지 소모 문제
      - 문제 푸는 과정에서 많은 에너지 소모
    - 정리: 비트코인은 화폐로서의 역할에 집중하도록 고안되어 스마트 컨트랙트 적용 불가 -> 여러 산업에 적용하기 어려움

### 이더리움
  - 이더리움이란
    - 비트코인 이후 개발된 여러 블록체인 기반 플랫폼 중 하나
    - 블록체인에 화폐 거래 기록뿐만 아니라 계약서 등의 추가 정보 및 프로세스를 기록할 수 있다는 점에 착안하여 전 세계의 컴퓨팅 자원을 활용해 분산 네트워크 구성 -> 해당 플랫폼을 사용하여 다양한 정보를 기록하는 시스템 창안
    - 프로그래밍한대로 동작하는 스마트 계약을 실행시키는 분산 컴퓨팅 플랫폼 -> 스마트 컨트랙트 기능을 통해 분산 어플리케이션 개발 가능
    - 이더(ETH): 이더리움 플랫폼에 의해 생성된 암호화폐 존재
  - 비트코인과의 차이점
    - 스마트 컨트랙트
      - 비트코인
        - 금융 특화, 화폐 기능에 초점
        - 블록체인에 기록되는 거래에는 비트코인을 보내고 받는 내용만 존재
          - 블록에 암호화폐 관련 데이터만 저장 가능
        - 두 가지 상태만 존재: 비트코인을 사용함, 사용하지 않음
      - 이더리움
        - 블록체인에 이더분만 아니라 스마트 컨트랙트도 저장 가능
          - 블록에 데이터뿐만 아니라 조건문, 반복문 등의 실행 코드를 포함시켜 로직 실행을 자동화할 수 있음
        - 참가자들이 생성하는 트랜잭션(거래)에 이더뿐만 아니라 스마트 컨트랙트 정보 및 스마트 컨트랙트를 이용하기 위한 데이터 등 다양한 정보 포함되어 전달됨
        - 다양한 상태 존재 가능: 거래중, 입금확인, 거래완료 등
    - 계정 기반 설계
      - 비트코인
        - 덩어리로 이뤄진 비트코인을 송금하기 위해서는 송금할 금액만큼 쪼개야 함
        - 계정 기반으로 설계되지 않아 비트코인 주소만 사용될 뿐, 사용자의 정보는 블록체인에 저장되지 않음
        - 비트코인 지갑 소프트웨어가 블록체인에 저장된 사용 가능한 비트코인 덩어리들을 모두 합하여 잔액을 보여주는 것
      - 이더리움
        - 계정 기반으로 설계됨 -> 계정 관련 정보들이 블록체인에 저장
          - 해당 계정이 얼마의 이더를 소유하고 있는지 등
        - 10이더를 가진 A가 B에게 3이더를 송금 시 10이더를 7과 3으로 쪼개지 않고 3이더 자체로 존재하는 3이더를 보내게 되는 것
    - 블록 생성 시간
      - 비트코인: 약 10분
      - 이더리움: 약 10여초
    - 트랜잭션 처리량
      - 비트코인: 초당 약 7개
      - 이더리움: 초당 약 15개


### 스마트 컨트랙트
  - 스마트 컨트랙트란
    - 특정 계약을 디지털 방식으로 수립, 검증, 실행하기 위한 컴퓨터 프로토콜
      - 제3자 없이 신뢰할 수 있는 거래의 수행을 가능케하며, 거래는 추적 가능하며 되돌릴 수 없음
    - “신뢰할 수 없는 인터넷 환경에서 고도로 발달된 계약을 준수하도록 강제하는 프로토콜”
    -  디지털 명령어로 계약 작성 -> 조건에 따라 계약 내용을 자동으로 실행 -> 계약 내용을 즉각 이행 가능
  - 원리
    - Solidity: 스마트 컨트랙트를 작성하는 프로그래밍 언어
    - 계약 내용이 작성된 소스코드를 이더리움 컴퓨터가 이해할 수 있는 코드로 변환하여 블록체인에 저장
    - 작성한 계약 소스 코드 내용에 따라 요청 받아들이며 정해진 결과를 도출
  - 유의점
    - 코드는 사람이 작성하므로 취약점이 존재할 수 있음 -> 해킹 발생 가능성 존재
      - 원치 않는 작동 또는 요청이 있어도 ‘계약은 계약’


### DApp(Decentralized Application)
  - 탈중앙화 된 어플리케이션
  - 블록체인 위에서 동작하는 어플리케이션
  - 특징
    - 중앙 서버 없이 정보를 분산 저장 & 블록체인에 저장된 스마트 컨트랙트를 통해 서비스 제공
      - 해킹 어려움
      - 정보 삭제 불가
      - 정보의 투명성 보장
      - 서비스 이용을 위해 비용(수수료 -> 코인 or 토큰)가 요구됨
      - 전통적인 앱보다 속도가 느림
  - 구동 방식
    - 요청이 들어왔을 때 스마트 컨트랙트의 규칙에 따라 처리됨
